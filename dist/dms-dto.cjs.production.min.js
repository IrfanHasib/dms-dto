"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("tslib"),e=require("class-validator"),o=require("class-transformer"),n=require("enum/bulkAdjustmentCountType"),r=require("enum/cartAdjustmentDiscountType"),i=require("enum/discountType"),u=require("enum/productAdjustmentDiscountType"),p=require("enum/BXGYType"),s=require("enum/BXGYCountType"),c=require("enum/BXGYGetType"),d=require("dto/discount.bulk.item.dto"),a=require("dto/discount.bxgy.item.dto"),y=require("dto/discount.bxgx.item.dto"),T=require("dto/discount.filter.item.dto"),I=require("dto/discount.condition.item.dto"),_=require("enum/bulkDiscountType"),E=require("enum/BXGXDiscountType"),m=require("enum/BXGYDiscountType"),l=require("dto/discount.list.item.dto"),D=require("enum/discountConditionType"),f=require("dto/discount.base.dto"),v=require("enum/discountFilterType"),A=function(){};t.__decorate([e.IsNotEmpty(),e.IsString()],A.prototype,"name",void 0),t.__decorate([e.IsNotEmpty(),e.IsEnum(i.DiscountType)],A.prototype,"discountType",void 0),t.__decorate([e.IsNotEmpty(),o.Transform((function(t){return[!0,"enabled","true",1,"1"].indexOf(t.value)>-1}))],A.prototype,"isEnabled",void 0),t.__decorate([e.IsNotEmpty(),o.Transform((function(t){return[!0,"enabled","true",1,"1"].indexOf(t.value)>-1}))],A.prototype,"isIgnoreOther",void 0),t.__decorate([e.IsNotEmpty(),o.Transform((function(t){return[!0,"enabled","true",1,"1"].indexOf(t.value)>-1}))],A.prototype,"isIgnoreThisIfOtherMatched",void 0),t.__decorate([e.IsNotEmpty(),e.IsInt(),o.Type((function(){return Number}))],A.prototype,"priority",void 0),t.__decorate([e.IsOptional(),e.ValidateIf((function(t,e){return!!e})),e.IsInt(),o.Type((function(){return Number}))],A.prototype,"usageLimit",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.PRODUCT_ADJUSTMENT})),e.IsEnum(u.ProductAdjustmentDiscountType)],A.prototype,"productAdjustmentDiscountType",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.PRODUCT_ADJUSTMENT})),e.IsDecimal()],A.prototype,"productAdjustmentDiscountAmount",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.CART_ADJUSTMENT})),e.IsEnum(r.CartAdjustmentDiscountType)],A.prototype,"cartAdjustmentDiscountType",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.CART_ADJUSTMENT})),e.IsDecimal()],A.prototype,"cartAdjustmentDiscountAmount",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.CART_ADJUSTMENT})),e.IsString()],A.prototype,"cartAdjustmentLabel",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.BULK_ADJUSTMENT})),e.IsEnum(n.BulkAdjustmentCountType)],A.prototype,"bulkAdjustmentCountType",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.BULK_ADJUSTMENT})),e.IsArray(),e.ValidateNested({each:!0}),e.ArrayMinSize(1),o.Type((function(){return d.DiscountBulkItemDto}))],A.prototype,"discountBulks",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.BXGX})),o.Transform((function(t){return[!0,"enabled","true",1,"1"].indexOf(t.value)>-1}))],A.prototype,"isBXGXRecursive",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.BXGX})),e.IsArray(),e.ArrayMinSize(1),o.Transform((function(t){var e,o=t.value,n=t.obj;return null==o||null===(e=o.filter((function(t,e){return!(null!=n&&n.isBXGXRecursive)||e<1})))||void 0===e?void 0:e.map((function(t){return t.isBXGXRecursive=null==n?void 0:n.isBXGXRecursive,t}))})),o.Type((function(){return y.DiscountBxgxItemDto})),e.ValidateNested({each:!0})],A.prototype,"discountBXGXs",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.BXGY})),e.IsEnum(p.BXGYType)],A.prototype,"BXGYType",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.BXGY})),e.IsEnum(s.BXGYCountType)],A.prototype,"BXGYCountType",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.BXGY})),e.IsEnum(c.BXGYGetType)],A.prototype,"BXGYGetType",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.BXGY})),o.Transform((function(t){return[!0,"enabled","true",1,"1"].indexOf(t.value)>-1}))],A.prototype,"isBXGYRecursive",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType===i.DiscountType.BXGY})),e.IsArray(),e.ArrayMinSize(1),o.Transform((function(t){var e,o=t.value,n=t.obj;return null==o||null===(e=o.filter((function(t,e){return!(null!=n&&n.isBXGYRecursive)||e<1})))||void 0===e?void 0:e.map((function(t){return t.BXGYType=null==n?void 0:n.BXGYType,t.isBXGYRecursive=null==n?void 0:n.isBXGYRecursive,t}))})),o.Type((function(){return a.DiscountBxgyItemDto})),e.ValidateNested({each:!0})],A.prototype,"discountBXGYs",void 0),t.__decorate([e.IsOptional(),e.ValidateIf((function(t,e){return!!e})),e.IsDateString()],A.prototype,"activeFromDateTime",void 0),t.__decorate([e.IsOptional(),e.ValidateIf((function(t,e){return!!e})),e.IsDateString()],A.prototype,"activeToDateTime",void 0),t.__decorate([e.IsNotEmpty(),o.Transform((function(t){return[!0,"enabled","true",1,"1"].indexOf(t.value)>-1}))],A.prototype,"isMatchAllCondition",void 0),t.__decorate([e.IsArray(),e.ValidateNested({each:!0}),e.ArrayMinSize(1),o.Type((function(){return T.DiscountFilterItemDto}))],A.prototype,"discountFilers",void 0),t.__decorate([e.IsOptional(),e.IsArray(),e.ValidateNested({each:!0}),e.ArrayMinSize(0),o.Type((function(){return I.DiscountConditionItemDto}))],A.prototype,"discountConditions",void 0);var N=function(){};t.__decorate([e.IsOptional(),e.ValidateIf((function(t,e){return!!e})),o.Type((function(){return Number})),e.IsNumber()],N.prototype,"id",void 0),t.__decorate([e.IsNotEmpty(),e.IsInt(),o.Type((function(){return Number}))],N.prototype,"minimumQuantity",void 0),t.__decorate([e.IsNotEmpty(),e.IsInt(),o.Type((function(){return Number}))],N.prototype,"maximumQuantity",void 0),t.__decorate([e.IsNotEmpty(),e.IsEnum(_.BulkDiscountType)],N.prototype,"discountType",void 0),t.__decorate([e.IsNotEmpty(),e.IsDecimal()],N.prototype,"discountAmount",void 0),t.__decorate([e.IsNotEmpty(),e.IsString()],N.prototype,"label",void 0);var R=function(){};t.__decorate([e.IsOptional(),e.ValidateIf((function(t,e){return!!e})),o.Type((function(){return Number})),e.IsNumber()],R.prototype,"id",void 0),t.__decorate([e.IsNotEmpty(),e.IsInt(),o.Type((function(){return Number}))],R.prototype,"minimumQuantity",void 0),t.__decorate([e.IsNotEmpty(),e.IsInt(),o.Type((function(){return Number}))],R.prototype,"bonusQuantity",void 0),t.__decorate([e.IsNotEmpty(),e.IsEnum(E.BXGXDiscountType)],R.prototype,"discountType",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType!==E.BXGXDiscountType.FREE})),e.IsDecimal()],R.prototype,"discountAmount",void 0),t.__decorate([e.IsNotEmpty(),e.IsBoolean()],R.prototype,"isBXGXRecursive",void 0),t.__decorate([e.ValidateIf((function(t){return!t.isBXGXRecursive})),e.IsInt(),o.Type((function(){return Number}))],R.prototype,"maximumQuantity",void 0);var X,C,B=function(){};t.__decorate([e.IsOptional(),e.ValidateIf((function(t,e){return!!e})),o.Type((function(){return Number})),e.IsNumber()],B.prototype,"id",void 0),t.__decorate([e.IsNotEmpty(),e.IsInt(),o.Type((function(){return Number}))],B.prototype,"minimumQuantity",void 0),t.__decorate([e.IsNotEmpty(),e.IsInt(),o.Type((function(){return Number}))],B.prototype,"bonusQuantity",void 0),t.__decorate([e.IsNotEmpty(),e.IsEnum(m.BXGYDiscountType)],B.prototype,"discountType",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountType!==m.BXGYDiscountType.FREE})),e.IsDecimal()],B.prototype,"discountAmount",void 0),t.__decorate([e.IsNotEmpty(),e.IsBoolean()],B.prototype,"isBXGYRecursive",void 0),t.__decorate([e.IsNotEmpty(),e.IsEnum(p.BXGYType)],B.prototype,"BXGYType",void 0),t.__decorate([e.ValidateIf((function(t){return!t.isBXGYRecursive})),e.IsInt(),o.Type((function(){return Number}))],B.prototype,"maximumQuantity",void 0),t.__decorate([e.ValidateIf((function(t){return t.BXGYType===p.BXGYType.PRODUCTS})),e.IsArray(),e.ValidateNested({each:!0}),e.ArrayMinSize(1),o.Type((function(){return l.DiscountListItemDto}))],B.prototype,"products",void 0),t.__decorate([e.ValidateIf((function(t){return t.BXGYType===p.BXGYType.COMPANIES})),e.IsArray(),e.ValidateNested({each:!0}),e.ArrayMinSize(1),o.Type((function(){return l.DiscountListItemDto}))],B.prototype,"companies",void 0),t.__decorate([e.ValidateIf((function(t){return t.BXGYType===p.BXGYType.CATEGORIES})),e.IsArray(),e.ValidateNested({each:!0}),e.ArrayMinSize(1),o.Type((function(){return l.DiscountListItemDto}))],B.prototype,"categories",void 0),(X=exports.ConditionCountType||(exports.ConditionCountType={})).FROM_CART="FROM_CART",X.FROM_FILTER="FROM_FILTER",(C=exports.ConditionOperator||(exports.ConditionOperator={})).LESS_THAN="LESS_THAN",C.LESS_THAN_OR_EQUAL="LESS_THAN_OR_EQUAL",C.GREATER_THAN="GREATER_THAN",C.GREATER_THAN_OR_EQUAL="GREATER_THAN_OR_EQUAL",C.EQUAL_TO="EQUAL_TO";var G=function(){};function O(t,e){var o,n;t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o=t,n=e,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(o,n)}t.__decorate([e.IsOptional(),e.ValidateIf((function(t,e){return!!e})),o.Type((function(){return Number})),e.IsNumber()],G.prototype,"id",void 0),t.__decorate([e.IsNotEmpty(),e.IsDecimal()],G.prototype,"conditionValue",void 0),t.__decorate([e.IsNotEmpty(),e.IsEnum(exports.ConditionOperator)],G.prototype,"conditionOperator",void 0),t.__decorate([e.IsNotEmpty(),e.IsEnum(D.DiscountConditionType)],G.prototype,"conditionType",void 0),t.__decorate([e.IsNotEmpty(),e.IsEnum(exports.ConditionCountType)],G.prototype,"conditionCountType",void 0);var S=function(t){function e(){return t.apply(this,arguments)||this}return O(e,t),e}(f.DiscountBaseDto),x=function(){};t.__decorate([e.IsOptional(),e.ValidateIf((function(t,e){return!!e})),o.Type((function(){return Number})),e.IsNumber()],x.prototype,"id",void 0),t.__decorate([e.IsNotEmpty(),e.IsEnum(v.DiscountFilterType)],x.prototype,"discountFilterType",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountFilterType!==v.DiscountFilterType.ALL})),o.Transform((function(t){return[!0,"enabled","true",1,"1"].indexOf(t.value)>-1}))],x.prototype,"isInList",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountFilterType===v.DiscountFilterType.PRODUCTS})),e.IsArray(),e.ValidateNested({each:!0}),e.ArrayMinSize(1),o.Type((function(){return l.DiscountListItemDto}))],x.prototype,"products",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountFilterType===v.DiscountFilterType.COMPANIES})),e.IsArray(),e.ValidateNested({each:!0}),e.ArrayMinSize(1),o.Type((function(){return l.DiscountListItemDto}))],x.prototype,"companies",void 0),t.__decorate([e.ValidateIf((function(t){return t.discountFilterType===v.DiscountFilterType.CATEGORIES})),e.IsArray(),e.ValidateNested({each:!0}),e.ArrayMinSize(1),o.Type((function(){return l.DiscountListItemDto}))],x.prototype,"categories",void 0);var P=function(){};t.__decorate([e.IsNotEmpty(),e.IsNumber()],P.prototype,"id",void 0);var L,V,b,M,U,Y,F,h=function(t){function e(){return t.apply(this,arguments)||this}return O(e,t),e}(f.DiscountBaseDto);(L=exports.BulkAdjustmentCountType||(exports.BulkAdjustmentCountType={})).ALL="ALL",L.INDIVIDUAL="INDIVIDUAL",(V=exports.BulkDiscountType||(exports.BulkDiscountType={})).PERCENT="PERCENT",V.FIXED="FIXED",V.FIXED_PRICE_PER_ITEM="FIXED_PRICE_PER_ITEM",function(t){t.PERCENT="PERCENT",t.FIXED="FIXED",t.FREE="FREE"}(exports.BXGXDiscountType||(exports.BXGXDiscountType={})),function(t){t.ALL="ALL",t.INDIVIDUAL="INDIVIDUAL"}(exports.BXGYCountType||(exports.BXGYCountType={})),function(t){t.PERCENT="PERCENT",t.FIXED="FIXED",t.FREE="FREE"}(exports.BXGYDiscountType||(exports.BXGYDiscountType={})),function(t){t.RANDOM="RANDOM",t.CHEAPEST_PRICE="CHEAPEST_PRICE",t.HIGHEST_PRICE="HIGHEST_PRICE"}(exports.BXGYGetType||(exports.BXGYGetType={})),function(t){t.ALL="ALL",t.CATEGORIES="CATEGORIES",t.COMPANIES="COMPANIES",t.PRODUCTS="PRODUCTS"}(exports.BXGYType||(exports.BXGYType={})),(b=exports.CartAdjustmentDiscountType||(exports.CartAdjustmentDiscountType={})).PERCENT="PERCENT",b.FIXED="FIXED",b.FIXED_PRICE_PER_PRODUCT="FIXED_PRICE_PER_PRODUCT",(M=exports.DiscountConditionType||(exports.DiscountConditionType={})).SUBTOTAL="SUBTOTAL",M.ITEM_QUANTITY="ITEM_QUANTITY",M.LINE_ITEM_COUNT="LINE_ITEM_COUNT",(U=exports.DiscountType||(exports.DiscountType={})).PRODUCT_ADJUSTMENT="PRODUCT_ADJUSTMENT",U.CART_ADJUSTMENT="CART_ADJUSTMENT",U.BULK_ADJUSTMENT="BULK_ADJUSTMENT",U.BXGX="BXGX",U.BXGY="BXGY",(Y=exports.ProductAdjustmentDiscountType||(exports.ProductAdjustmentDiscountType={})).PERCENT="PERCENT",Y.FIXED="FIXED",Y.FIXED_PRICE_PER_ITEM="FIXED_PRICE_PER_ITEM",(F=exports.DiscountFilterType||(exports.DiscountFilterType={})).ALL="ALL",F.PRODUCTS="PRODUCTS",F.COMPANIES="COMPANIES",F.CATEGORIES="CATEGORIES";var j=function(){};t.__decorate([e.IsNotEmpty(),e.Length(11,11)],j.prototype,"mobile",void 0),t.__decorate([e.IsNotEmpty(),e.Length(6)],j.prototype,"password",void 0);var g=function(){};t.__decorate([e.IsNotEmpty(),e.IsString()],g.prototype,"accessToken",void 0),t.__decorate([e.IsNotEmpty(),e.IsString()],g.prototype,"expiresIn",void 0),t.__decorate([e.IsNotEmpty(),e.IsString()],g.prototype,"tokenType",void 0),t.__decorate([e.IsOptional(),e.IsString()],g.prototype,"message",void 0);var q=function(t,n){try{var r=o.plainToInstance(t,n);return Promise.resolve(e.validate(r)).then((function(t){var e=[];return t.length>0&&(e.push("Response is not valid"),null==t||t.map((function(t){var o;null===(o=Object.values(t.constraints))||void 0===o||o.map((function(t){e.push(t)}))}))),e}))}catch(t){return Promise.reject(t)}};exports.AuthResponseDTO=g,exports.DiscountBaseDto=A,exports.DiscountBulkItemDto=N,exports.DiscountBxgxItemDto=R,exports.DiscountBxgyItemDto=B,exports.DiscountConditionItemDto=G,exports.DiscountCreateDto=S,exports.DiscountFilterItemDto=x,exports.DiscountListItemDto=P,exports.DiscountUpdateDto=h,exports.LoginDTO=j,exports.dtoValidator=q,exports.responseDtoValidator=function(t,e){try{return Promise.resolve(q(t,e)).then((function(n){var r;if(n.length>0)throw n=["Response is not valid"].concat(n),new Error(null===(r=n)||void 0===r?void 0:r.join(". \n"));return o.plainToInstance(t,e)}))}catch(t){return Promise.reject(t)}};
//# sourceMappingURL=dms-dto.cjs.production.min.js.map
