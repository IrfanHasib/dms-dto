{"version":3,"file":"dms-dto.cjs.development.js","sources":["../src/enum/bulkAdjustmentCountType.ts","../src/enum/bulkDiscountType.ts","../src/enum/BXGXDiscountType.ts","../src/enum/BXGYCountType.ts","../src/enum/BXGYDiscountType.ts","../src/enum/BXGYGetType.ts","../src/enum/BXGYType.ts","../src/enum/cartAdjustmentDiscountType.ts","../src/enum/conditionCountType.ts","../src/enum/conditionOperator.ts","../src/enum/discountConditionType.ts","../src/enum/discountType.ts","../src/enum/productAdjustmentDiscountType.ts","../src/enum/discountFilterType.ts","../src/dto/login.dto.ts","../src/dto/auth.response.dto.ts","../src/utils/dtoValidator.ts","../src/utils/responseDtoValidator.ts"],"sourcesContent":["export enum BulkAdjustmentCountType {\n  ALL = 'ALL',\n  INDIVIDUAL = 'INDIVIDUAL',\n}\n","export enum BulkDiscountType {\n  PERCENT = 'PERCENT',\n  FIXED = 'FIXED',\n  FIXED_PRICE_PER_ITEM = 'FIXED_PRICE_PER_ITEM',\n}\n","export enum BXGXDiscountType {\n  PERCENT = 'PERCENT',\n  FIXED = 'FIXED',\n  FREE = 'FREE',\n}\n","export enum BXGYCountType {\n  ALL = 'ALL',\n  INDIVIDUAL = 'INDIVIDUAL',\n}\n","export enum BXGYDiscountType {\n  PERCENT = 'PERCENT',\n  FIXED = 'FIXED',\n  FREE = 'FREE',\n}\n","export enum BXGYGetType {\n  RANDOM = 'RANDOM',\n  CHEAPEST_PRICE = 'CHEAPEST_PRICE',\n  HIGHEST_PRICE = 'HIGHEST_PRICE',\n}\n","export enum BXGYType {\n  ALL = 'ALL',\n  CATEGORIES = 'CATEGORIES',\n  COMPANIES = 'COMPANIES',\n  PRODUCTS = 'PRODUCTS',\n}\n","export enum CartAdjustmentDiscountType {\n  PERCENT = 'PERCENT',\n  FIXED = 'FIXED',\n  FIXED_PRICE_PER_PRODUCT = 'FIXED_PRICE_PER_PRODUCT',\n}\n","export enum ConditionCountType {\n  FROM_CART = 'FROM_CART',\n  FROM_FILTER = 'FROM_FILTER',\n}\n","export enum ConditionOperator {\n  LESS_THAN = 'LESS_THAN',\n  LESS_THAN_OR_EQUAL = 'LESS_THAN_OR_EQUAL',\n  GREATER_THAN = 'GREATER_THAN',\n  GREATER_THAN_OR_EQUAL = 'GREATER_THAN_OR_EQUAL',\n  EQUAL_TO = 'EQUAL_TO',\n}\n","export enum DiscountConditionType {\n  SUBTOTAL = 'SUBTOTAL',\n  ITEM_QUANTITY = 'ITEM_QUANTITY',\n  LINE_ITEM_COUNT = 'LINE_ITEM_COUNT',\n}\n","export enum DiscountType {\n  PRODUCT_ADJUSTMENT = 'PRODUCT_ADJUSTMENT',\n  CART_ADJUSTMENT = 'CART_ADJUSTMENT',\n  BULK_ADJUSTMENT = 'BULK_ADJUSTMENT',\n  BXGX = 'BXGX',\n  BXGY = 'BXGY',\n}\n","export enum ProductAdjustmentDiscountType {\n  PERCENT = 'PERCENT',\n  FIXED = 'FIXED',\n  FIXED_PRICE_PER_ITEM = 'FIXED_PRICE_PER_ITEM',\n}\n","export enum DiscountFilterType {\n  ALL = 'ALL',\n  PRODUCTS = 'PRODUCTS',\n  COMPANIES = 'COMPANIES',\n  CATEGORIES = 'CATEGORIES',\n}\n","import { IsNotEmpty, Length } from 'class-validator';\n\nexport class LoginDTO {\n  @IsNotEmpty()\n  @Length(11, 11)\n  mobile: string;\n\n  @IsNotEmpty()\n  @Length(6)\n  password: string;\n}\n","import { IsNotEmpty, IsOptional, IsString } from 'class-validator';\n\nexport class AuthResponseDTO {\n  @IsNotEmpty()\n  @IsString()\n  accessToken: string;\n\n  @IsNotEmpty()\n  @IsString()\n  expiresIn: string;\n\n  @IsNotEmpty()\n  @IsString()\n  tokenType: string;\n\n  @IsOptional()\n  @IsString()\n  message?: string;\n}\n","import { ClassConstructor, plainToInstance } from 'class-transformer';\nimport { validate } from 'class-validator';\n\nconst dtoValidator = async (dto: ClassConstructor<any>, obj: Object): Promise<string[]> => {\n  const objInstance = plainToInstance(dto, obj);\n  const errors = await validate(objInstance);\n  let returnError: string[] = [];\n  if (errors.length > 0) {\n    returnError.push('Response is not valid');\n    errors?.map(({ constraints }) => {\n      Object.values(constraints as Object)?.map(i => {\n        returnError.push(i);\n      });\n    });\n  }\n  return returnError;\n};\n\nexport { dtoValidator };\n","import {ClassConstructor, plainToInstance} from 'class-transformer';\nimport { dtoValidator } from './dtoValidator';\n\nconst responseDtoValidator = async <T>(dto: ClassConstructor<any>, obj: Object):Promise<T> => {\n  let returnError: string[] = await dtoValidator(dto, obj);\n  if (returnError.length > 0) {\n    returnError = ['Response is not valid', ...returnError];\n    throw new Error(returnError?.join('. \\n'));\n  }\n  return plainToInstance(dto, obj)\n};\n\nexport { responseDtoValidator };\n"],"names":["BulkAdjustmentCountType","BulkDiscountType","BXGXDiscountType","BXGYCountType","BXGYDiscountType","BXGYGetType","BXGYType","CartAdjustmentDiscountType","ConditionCountType","ConditionOperator","DiscountConditionType","DiscountType","ProductAdjustmentDiscountType","DiscountFilterType","LoginDTO","__decorate","IsNotEmpty","Length","AuthResponseDTO","IsString","IsOptional","dtoValidator","dto","obj","objInstance","plainToInstance","validate","errors","returnError","length","push","map","constraints","Object","values","i","responseDtoValidator","Error","join"],"mappings":"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"}